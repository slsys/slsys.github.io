import{_ as a,o as A,c as e,Q as t}from"./chunks/framework.f1c0562b.js";const s="data:image/png;base64,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",x=JSON.parse('{"title":"1-Wire","description":"","frontmatter":{},"headers":[],"relativePath":"1wire.md","filePath":"1wire.md"}'),n={name:"1wire.md"},o=t('<h1 id="_1-wire" tabindex="-1">1-Wire <a class="header-anchor" href="#_1-wire" aria-label="Permalink to &quot;1-Wire&quot;">​</a></h1><p><strong>Функционал поддерживается только для <a href="/sls_pro">Pro</a> версии.</strong></p><p>Шлюз работает в режиме монитора шины и все обнаруженные устройства сохраняются во внутренней базе данных.</p><p>На данный момент она рассчитана на 10 устройств, возможно увеличение количества в дальнейшем.</p><p>Если Вам необходима поддержка большего количества, сообщите об этом.</p><h2 id="как-работает" tabindex="-1">Как работает <a class="header-anchor" href="#как-работает" aria-label="Permalink to &quot;Как работает&quot;">​</a></h2><p>Работа шлюза 1-Wire реализована на выделенном мастере шины. Подключение резисторов подтяжки не требуется, есть активная подтяжка шины.</p><p>Подключение возможно как в активном (3 проводное), так и пассивном режиме (2 проводное). Для питания есть выход +5V.</p><p>Сканирование шины происходит при старте контроллера и далее каждые 5 минут. Чтение данных датчиков каждые 60 секунд.</p><h2 id="поддерживаемые-устроиства" tabindex="-1">Поддерживаемые устройства <a class="header-anchor" href="#поддерживаемые-устроиства" aria-label="Permalink to &quot;Поддерживаемые устройства&quot;">​</a></h2><ul><li>DS18B20 (0x28) - калиброванный цифровой датчик температуры (12bit)</li><li>DS1822 (0x22) - калиброванный цифровой датчик температуры (12bit)</li><li>DS18S20 (0x10) - калиброванный цифровой датчик температуры (9bit)</li></ul><p>Если Вам необходима поддержка других устройств, сообщите об этом.</p><h2 id="web-интерфеис" tabindex="-1">Web-интерфейс <a class="header-anchor" href="#web-интерфеис" aria-label="Permalink to &quot;Web-интерфейс&quot;">​</a></h2><p>При наличии мастера шины, в веб-интерфейсе автоматически появляется раздел 1-Wire. <img src="'+s+`" alt="icon"></p><p>В веб-интерфейсе видны все обнаруженные датчики и можно вручную просканировать шину.</p><h2 id="mqtt" tabindex="-1">MQTT <a class="header-anchor" href="#mqtt" aria-label="Permalink to &quot;MQTT&quot;">​</a></h2><p>При получении новых данных с датчиков, они публикуются в топик вида: <em>1wire/28-XXXXXXXXXXXX/temperature</em></p><h2 id="работа-из-скриптов" tabindex="-1">Работа из скриптов <a class="header-anchor" href="#работа-из-скриптов" aria-label="Permalink to &quot;Работа из скриптов&quot;">​</a></h2><p>При получении новых данных с датчиков, они публикуются в объекты вида: <em>1w.28-XXXXXXXXXXXX/temperature</em></p><p>Вывести в лог данные с датчика 28-XXXXXXXXXXXX:</p><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> t </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> obj.</span><span style="color:#79B8FF;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;1w.28-XXXXXXXXXXXX/temperature&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(t)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> t </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> obj.</span><span style="color:#005CC5;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;1w.28-XXXXXXXXXXXX/temperature&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(t)</span></span></code></pre></div>`,21),l=[o];function r(c,p,X,i,w,d){return A(),e("div",null,l)}const f=a(n,[["render",r]]);export{x as __pageData,f as default};
