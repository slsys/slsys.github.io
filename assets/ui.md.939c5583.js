import{_ as a,a as s,b as t}from"./chunks/dashboard3.124b2de9.js";import{_ as o,o as n,c as l,Q as e}from"./chunks/framework.f1c0562b.js";const r="/assets/20220204.abfd6501.jpg",f=JSON.parse('{"title":"Создание собственной визуализации","description":"","frontmatter":{},"headers":[],"relativePath":"ui.md","filePath":"ui.md"}'),p={name:"ui.md"},c=e(`<h1 id="создание-собственнои-визуализации" tabindex="-1">Создание собственной визуализации <a class="header-anchor" href="#создание-собственнои-визуализации" aria-label="Permalink to &quot;Создание собственной визуализации&quot;">​</a></h1><p>В SLS gateway можно создать собственные визуализации. Для этого через меню <code>Actions -&gt; Script</code> нужно создать файл <code>ui.html</code>. Он будет доступен при обращении к <code>/ui</code>. Для управления устройствами можно использовать встроенные <a href="/http_api">http_api</a>.</p><p>Следующий пример выводит значение температуры с датчика</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;https://kit.fontawesome.com/a076d05399.js&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;lbl_temp&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  fetch(&#39;/api/zigbee?action=getStateValue&amp;dev=0x000D6F00106A67FD&amp;name=temperature&#39;)</span></span>
<span class="line"><span style="color:#E1E4E8;"> .then((response) =&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">   return response.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">  .then((data) =&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    document.</span><span style="color:#B392F0;">getElementById</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;lbl_temp&quot;</span><span style="color:#E1E4E8;">).innerHTML </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&lt;i class=&quot;fa fa-thermometer-full&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> data;</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;https://kit.fontawesome.com/a076d05399.js&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;lbl_temp&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  fetch(&#39;/api/zigbee?action=getStateValue&amp;dev=0x000D6F00106A67FD&amp;name=temperature&#39;)</span></span>
<span class="line"><span style="color:#24292E;"> .then((response) =&gt; {</span></span>
<span class="line"><span style="color:#24292E;">   return response.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#24292E;">  .then((data) =&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    document.</span><span style="color:#6F42C1;">getElementById</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;lbl_temp&quot;</span><span style="color:#24292E;">).innerHTML </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&lt;i class=&quot;fa fa-thermometer-full&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> data;</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><hr><h2 id="пример-dashboard-от-nick7zmail" tabindex="-1">Пример dashboard от <a href="https://t.me/nick7zmail" target="_blank" rel="noreferrer">Nick7zmail</a> <a class="header-anchor" href="#пример-dashboard-от-nick7zmail" aria-label="Permalink to &quot;Пример dashboard от [Nick7zmail](https://t.me/nick7zmail)&quot;">​</a></h2><p><img src="`+r+'" alt=""></p><p>Скачать</p><ul><li><a href="https://github.com/slsys/Gateway/dashboard/nick7zmail/ui_20220215.html" target="_blank" rel="noreferrer">15.02.2022</a>. <a href="https://t.me/slsys/91704" target="_blank" rel="noreferrer">Описание</a></li><li><a href="https://github.com/slsys/Gateway/dashboard/nick7zmail/ui_20220111.html" target="_blank" rel="noreferrer">11.01.2022</a>. <a href="https://t.me/slsys/88314" target="_blank" rel="noreferrer">Описание</a></li><li><a href="https://github.com/slsys/Gateway/dashboard/nick7zmail/ui.html" target="_blank" rel="noreferrer">v1 </a></li></ul><hr><h2 id="пример-dashboard-от-balagurovav" tabindex="-1">Пример dashboard от <a href="https://t.me/BalagurovAV" target="_blank" rel="noreferrer">BalagurovAV</a> <a class="header-anchor" href="#пример-dashboard-от-balagurovav" aria-label="Permalink to &quot;Пример dashboard от [BalagurovAV](https://t.me/BalagurovAV)&quot;">​</a></h2><p><img src="https://github.com/slsys/Gateway/dashboard/BalagurovAV/20231111.jpg" alt=""></p><p><a href="https://github.com/BalagurOFF/sls_ui.html" target="_blank" rel="noreferrer">Скачать</a></p><hr><h2 id="пример-dashboard-от-solominsn" tabindex="-1">Пример dashboard от <a href="https://t.me/solominsn" target="_blank" rel="noreferrer">solominsn</a> <a class="header-anchor" href="#пример-dashboard-от-solominsn" aria-label="Permalink to &quot;Пример dashboard от [solominsn](https://t.me/solominsn)&quot;">​</a></h2><blockquote><p><strong>solominsn</strong>: Кстати, а кто-нибудь пользуется UI? Мне понравился Gateway/dashboard/nick7zmail/ui.html, хотел не много код подправить для себя, а там код обфускатором прошли.</p></blockquote><blockquote><p><strong>solominsn</strong>: я переписал не много этот код. Последняя версия bootstrap, свежий JS (думаю что все используют версию браузера не старше 2 лет). Не много упростил конфигурирование.</p></blockquote><p><a href="https://github.com/slsys/Gateway/dashboard/solominsn/ui_20221004.html" target="_blank" rel="noreferrer">Скачать</a></p><hr><h2 id="пример-dashboard-с-использованием-bootstrap4" tabindex="-1">Пример dashboard с использованием <a href="https://bootstrap-4.ru/docs/4.5/components/card/#content" target="_blank" rel="noreferrer">Bootstrap4</a> <a class="header-anchor" href="#пример-dashboard-с-использованием-bootstrap4" aria-label="Permalink to &quot;Пример dashboard с использованием [Bootstrap4](https://bootstrap-4.ru/docs/4.5/components/card/#content)&quot;">​</a></h2><p><img src="'+a+'" alt=""></p><p><a href="https://github.com/slsys/Gateway/dashboard/bootstrap4/ui.html" target="_blank" rel="noreferrer">скачать</a></p><hr><h2 id="пример-dashboard-с-использованием-bootstrap4-1" tabindex="-1">Пример dashboard с использованием <a href="https://bootstrap-4.ru/docs/4.5/components/card/#content" target="_blank" rel="noreferrer">Bootstrap4</a> <a class="header-anchor" href="#пример-dashboard-с-использованием-bootstrap4-1" aria-label="Permalink to &quot;Пример dashboard с использованием [Bootstrap4](https://bootstrap-4.ru/docs/4.5/components/card/#content)&quot;">​</a></h2><p><img src="'+s+'" alt=""></p><p><a href="https://github.com/slsys/Gateway/dashboard/bootstrap41/ui.html" target="_blank" rel="noreferrer">скачать</a></p><hr><h2 id="пример-dashboard-с-использованием-bootstrap3" tabindex="-1">Пример dashboard с использованием <a href="https://www.w3schools.com/bootstrap/bootstrap_panels.asp" target="_blank" rel="noreferrer">Bootstrap3</a> <a class="header-anchor" href="#пример-dashboard-с-использованием-bootstrap3" aria-label="Permalink to &quot;Пример dashboard с использованием [Bootstrap3](https://www.w3schools.com/bootstrap/bootstrap_panels.asp)&quot;">​</a></h2><p><img src="'+t+'" alt=""></p><p><a href="https://github.com/slsys/Gateway/dashboard/bootstrap3/ui.html" target="_blank" rel="noreferrer">скачать</a></p>',30),i=[c];function h(d,E,y,b,m,u){return n(),l("div",null,i)}const k=o(p,[["render",h]]);export{f as __pageData,k as default};
