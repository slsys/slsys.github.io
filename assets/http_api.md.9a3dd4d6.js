import{_ as a,o as s,c as e,Q as o}from"./chunks/framework.f1c0562b.js";const E=JSON.parse('{"title":"Описание HTTP API","description":"","frontmatter":{},"headers":[],"relativePath":"http_api.md","filePath":"http_api.md"}'),t={name:"http_api.md"},p=o(`<h1 id="описание-http-api" tabindex="-1">Описание HTTP API <a class="header-anchor" href="#описание-http-api" aria-label="Permalink to &quot;Описание HTTP API&quot;">​</a></h1><h2 id="введение" tabindex="-1">Введение <a class="header-anchor" href="#введение" aria-label="Permalink to &quot;Введение&quot;">​</a></h2><p>Взаимодействовать со шлюзом можно с помощью HTTP API команд. Поддерживаются <code>GET</code> и <code>POST</code> сообщения. В большинстве случаев команды возвращают JSON объект с результатом запроса и его статусом.</p><h2 id="безопасность" tabindex="-1">Безопасность <a class="header-anchor" href="#безопасность" aria-label="Permalink to &quot;Безопасность&quot;">​</a></h2><p>В целях безопасности в меню <code>Settings -&gt; Users</code> можно ограничить доступ к API токеном. В таком случае для доступа необходимо передавать параметр:</p><p><code>&amp;token=e9d38bed.......f4ef49476a2ed9575</code></p><h2 id="возвращаемые-значения" tabindex="-1">Возвращаемые значения <a class="header-anchor" href="#возвращаемые-значения" aria-label="Permalink to &quot;Возвращаемые значения&quot;">​</a></h2><p>Большая часть команд возвращает объект JSON:</p><p>При успехе:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">&quot;success&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">&quot;result&quot;</span><span style="color:#E1E4E8;">:[]</span><span style="color:#FDAEB7;font-style:italic;">|</span><span style="color:#E1E4E8;">{}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span><span style="color:#005CC5;">&quot;success&quot;</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">&quot;result&quot;</span><span style="color:#24292E;">:[]</span><span style="color:#B31D28;font-style:italic;">|</span><span style="color:#24292E;">{}}</span></span></code></pre></div><p>При ошибке</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{ </span><span style="color:#79B8FF;">&quot;success&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{ </span><span style="color:#005CC5;">&quot;success&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> }</span></span></code></pre></div><h2 id="доступные-команды-http-api" tabindex="-1">Доступные команды HTTP API <a class="header-anchor" href="#доступные-команды-http-api" aria-label="Permalink to &quot;Доступные команды HTTP API&quot;">​</a></h2><h3 id="система" tabindex="-1">Система <a class="header-anchor" href="#система" aria-label="Permalink to &quot;Система&quot;">​</a></h3><h4 id="управление-режимом-логирования" tabindex="-1">Управление режимом логирования <a class="header-anchor" href="#управление-режимом-логирования" aria-label="Permalink to &quot;Управление режимом логирования&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/messages-history?action=</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/messages-history?action=</span></span></code></pre></div><p>Параметр <code>action</code> может принимать следующие значения:</p><ul><li><code>action=getBuffer</code></li><li><code>action=setLevel&amp;value=1</code></li><li><code>action=getLevel</code></li></ul><h4 id="перезагрузка-шлюза" tabindex="-1">Перезагрузка шлюза <a class="header-anchor" href="#перезагрузка-шлюза" aria-label="Permalink to &quot;Перезагрузка шлюза&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/reboot</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/reboot</span></span></code></pre></div><h3 id="zigbee" tabindex="-1">Zigbee <a class="header-anchor" href="#zigbee" aria-label="Permalink to &quot;Zigbee&quot;">​</a></h3><h4 id="получить-список-устроиств-сети-zigbee" tabindex="-1">Получить список устройств сети zigbee <a class="header-anchor" href="#получить-список-устроиств-сети-zigbee" aria-label="Permalink to &quot;Получить список устройств сети zigbee&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee/devices</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee/devices</span></span></code></pre></div><h4 id="запрос-устроиству-xxx-покинуть-сеть-zigbee" tabindex="-1">Запрос устройству XXX покинуть сеть zigbee <a class="header-anchor" href="#запрос-устроиству-xxx-покинуть-сеть-zigbee" aria-label="Permalink to &quot;Запрос устройству XXX покинуть сеть zigbee&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee/remove?dev=XXX</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee/remove?dev=XXX</span></span></code></pre></div><h4 id="запрос-устроиству-xxx-покинуть-сеть-zigbee-и-безусловное-удаление" tabindex="-1">Запрос устройству XXX покинуть сеть Zigbee и безусловное удаление <a class="header-anchor" href="#запрос-устроиству-xxx-покинуть-сеть-zigbee-и-безусловное-удаление" aria-label="Permalink to &quot;Запрос устройству XXX покинуть сеть Zigbee и безусловное удаление&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee/remove?dev=XXX&amp;force=true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee/remove?dev=XXX&amp;force=true</span></span></code></pre></div><h4 id="переименование-устроиства-в-сети-zigbee" tabindex="-1">Переименование устройства в сети zigbee <a class="header-anchor" href="#переименование-устроиства-в-сети-zigbee" aria-label="Permalink to &quot;Переименование устройства в сети zigbee&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee/rename?old=XXX&amp;new=YYY</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee/rename?old=XXX&amp;new=YYY</span></span></code></pre></div><h4 id="управление-режимом-сопряжения" tabindex="-1">Управление режимом сопряжения <a class="header-anchor" href="#управление-режимом-сопряжения" aria-label="Permalink to &quot;Управление режимом сопряжения&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee/join?duration=255&amp;target=XXX</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee/join?duration=255&amp;target=XXX</span></span></code></pre></div><ul><li>duration: продолжительность режима. Значения больше 0 указывают период ожидания в секундах. Для выключения - 0. Параметр не обязательный.</li><li>target: разрешает сопряжение на конкретном роутере. Параметр не обязательный.</li></ul><h4 id="очистка-nvram" tabindex="-1">Очистка NVRAM <a class="header-anchor" href="#очистка-nvram" aria-label="Permalink to &quot;Очистка NVRAM&quot;">​</a></h4><p><strong>Внимание! Запускать, только понимая, что вы делаете.</strong></p><p>Процесс занимает несколько минут. Информацию об очистке видно в логе.</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee/clearnvram</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee/clearnvram</span></span></code></pre></div><h4 id="запуск-интервью-на-устроистве" tabindex="-1">Запуск интервью на устройстве <a class="header-anchor" href="#запуск-интервью-на-устроистве" aria-label="Permalink to &quot;Запуск интервью на устройстве&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee?dev=0xABCD&amp;action=setInterview&amp;state=0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee?dev=0xABCD&amp;action=setInterview&amp;state=0</span></span></code></pre></div><h4 id="получить-список-доступных-сетеи-wifi" tabindex="-1">Получить список доступных сетей WiFi <a class="header-anchor" href="#получить-список-доступных-сетеи-wifi" aria-label="Permalink to &quot;Получить список доступных сетей WiFi&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/wifi?action=scanNetworks</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/wifi?action=scanNetworks</span></span></code></pre></div><h4 id="получить-текущее-значение-состояния-из-кэша" tabindex="-1">Получить текущее значение состояния из кэша <a class="header-anchor" href="#получить-текущее-значение-состояния-из-кэша" aria-label="Permalink to &quot;Получить текущее значение состояния из кэша&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee?dev=0x2855&amp;action=getStateValue&amp;name=brightness</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee?dev=0x2855&amp;action=getStateValue&amp;name=brightness</span></span></code></pre></div><h4 id="отправить-устроиству-команду-чтения-состояния" tabindex="-1">Отправить устройству команду чтения состояния <a class="header-anchor" href="#отправить-устроиству-команду-чтения-состояния" aria-label="Permalink to &quot;Отправить устройству команду чтения состояния&quot;">​</a></h4><p>Выполнить команду Get в конвертере</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee?dev=0x2855&amp;action=getState&amp;name=brightness</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee?dev=0x2855&amp;action=getState&amp;name=brightness</span></span></code></pre></div><h4 id="записать-значение-состояния" tabindex="-1">Записать значение состояния <a class="header-anchor" href="#записать-значение-состояния" aria-label="Permalink to &quot;Записать значение состояния&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee?dev=0x2855&amp;action=setState&amp;name=state&amp;value=ON</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee?dev=0x2855&amp;action=setState&amp;name=state&amp;value=ON</span></span></code></pre></div><p>Установка состояния <code>state</code>, равным <code>ON</code> для устройства с адресом <code>nwkAddr = 0x2855</code>.</p><p>Адрес может быть в формате <code>IEEE</code>, либо <code>FriendlyName</code>. Например:</p><ul><li><code>state</code> может принимать значения <code>on</code>, <code>off</code>, <code>toggle</code></li><li><code>command</code> может быть <code>open</code>, <code>close</code>, <code>stop</code> и другие, в зависимости от типа устройства.</li></ul><h4 id="настроить-правило-simple-bind-при-изменении-состояния" tabindex="-1">Настроить правило Simple Bind при изменении состояния <a class="header-anchor" href="#настроить-правило-simple-bind-при-изменении-состояния" aria-label="Permalink to &quot;Настроить правило Simple Bind при изменении состояния&quot;">​</a></h4><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/zigbee?dev=0x1841&amp;action=setSimpleBind&amp;state=contact&amp;value=test.lua</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/zigbee?dev=0x1841&amp;action=setSimpleBind&amp;state=contact&amp;value=test.lua</span></span></code></pre></div><p>привязывает скрипт <code>test.lua</code> на запуск при изменении состояния <code>contact</code>, на устройстве с адресом <code>nwkAddr = 0x1841</code>. Также поддерживается адрес <code>IEEE</code>, либо <code>FriendlyName</code>. Также в параметре <code>value</code> можно указать драгие доступные правила SB. Подробнее о <a href="/simplebind">SimpleBind</a></p><h3 id="управление-аудио" tabindex="-1">Управление Аудио <a class="header-anchor" href="#управление-аудио" aria-label="Permalink to &quot;Управление Аудио&quot;">​</a></h3><p>Все команды <code>GET</code></p><ul><li><code>/api/audio?action=play&amp;url=xxx</code> - проигрывание звука из URL</li><li><code>/api/audio?action=geturl</code> - получить текущий URL</li><li><code>/api/audio?action=stop</code> - остановить проигрывание</li><li><code>/api/audio?action=setvolume&amp;value=xxx</code> - установить уровень громкости</li><li><code>/api/audio?action=getvolume</code> - получить текущий уровень громкости</li><li><code>/api/audio?action=getstatus</code> - получить текущий статус</li></ul><h3 id="touchlink" tabindex="-1">Touchlink <a class="header-anchor" href="#touchlink" aria-label="Permalink to &quot;Touchlink&quot;">​</a></h3><p>Все команды <code>GET</code></p><ul><li><code>/api/zigbee/touchlink</code> - получить список устройств рядом</li><li><code>/api/zigbee/touchlink?action=scan</code> - запуск сканирования</li><li><code>/api/zigbee/touchlink?action=identify&amp;dev=0x00158D00011D8CB1</code> - Идентификация устройства <code>0x00158D00011D8CB1</code></li><li><code>/api/zigbee/touchlink?action=reset&amp;dev=0x00158D00011D8CB1</code> - сброс устройства <code>0x00158D00011D8CB1</code></li></ul><h3 id="скрипты-lua" tabindex="-1">Скрипты LUA <a class="header-anchor" href="#скрипты-lua" aria-label="Permalink to &quot;Скрипты LUA&quot;">​</a></h3><p>Получить список скриптов с назначенными таймерами</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/scripts</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/scripts</span></span></code></pre></div><p>Запустить скрипт <code>test.lua</code></p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/scripts?action=evalFile&amp;path=/test.lua</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/scripts?action=evalFile&amp;path=/test.lua</span></span></code></pre></div><p>Запустить текст скрипта</p><div class="language-http vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">GET</span><span style="color:#E1E4E8;"> /api/scripts?action=evalCode&amp;plain=print(&quot;ok!&quot;)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">GET</span><span style="color:#24292E;"> /api/scripts?action=evalCode&amp;plain=print(&quot;ok!&quot;)</span></span></code></pre></div><h3 id="хранилище" tabindex="-1"><a href="/storage#http-api">Хранилище</a> <a class="header-anchor" href="#хранилище" aria-label="Permalink to &quot;[Хранилище](/storage.md#http-api)&quot;">​</a></h3><h3 id="leds" tabindex="-1"><a href="/led_control#http-api">LEDs</a> <a class="header-anchor" href="#leds" aria-label="Permalink to &quot;[LEDs](/led_control.md#http-api)&quot;">​</a></h3><h3 id="объекты" tabindex="-1"><a href="/objects">Объекты</a> <a class="header-anchor" href="#объекты" aria-label="Permalink to &quot;[Объекты](/objects.md)&quot;">​</a></h3><h2 id="примеры" tabindex="-1">Примеры <a class="header-anchor" href="#примеры" aria-label="Permalink to &quot;Примеры&quot;">​</a></h2><h3 id="отправк-post-запроса" tabindex="-1">Отправк POST запроса <a class="header-anchor" href="#отправк-post-запроса" aria-label="Permalink to &quot;Отправк POST запроса&quot;">​</a></h3><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">http.</span><span style="color:#79B8FF;">request2</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://postman-echo.com:80/post?foo1=bar1&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;POST&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;Content-Type: text/text; charset=utf-8</span><span style="color:#79B8FF;">\\r\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;body&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#6A737D;">-- Альтернативный вариант:</span></span>
<span class="line"><span style="color:#E1E4E8;">http.</span><span style="color:#79B8FF;">request</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://postman-echo.com:80/post?foo1=bar1&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;POST&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;Content-Type: text/text; charset=utf-8</span><span style="color:#79B8FF;">\\r\\n</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;body&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">http.</span><span style="color:#005CC5;">request2</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://postman-echo.com:80/post?foo1=bar1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;POST&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;Content-Type: text/text; charset=utf-8</span><span style="color:#005CC5;">\\r\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;body&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6A737D;">-- Альтернативный вариант:</span></span>
<span class="line"><span style="color:#24292E;">http.</span><span style="color:#005CC5;">request</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://postman-echo.com:80/post?foo1=bar1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;POST&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;Content-Type: text/text; charset=utf-8</span><span style="color:#005CC5;">\\r\\n</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;body&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div><h3 id="переключение-gpio-12-для-прошивки-wifi-iot" tabindex="-1">Переключение gpio 12 для прошивки wifi-iot <a class="header-anchor" href="#переключение-gpio-12-для-прошивки-wifi-iot" aria-label="Permalink to &quot;Переключение gpio 12 для прошивки wifi-iot&quot;">​</a></h3><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">http.</span><span style="color:#79B8FF;">request2</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://192.168.1.34/gpio?st=2&amp;pin=12&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">http.</span><span style="color:#005CC5;">request2</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://192.168.1.34/gpio?st=2&amp;pin=12&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div><h3 id="переключение-реле-sw1-в-прошивке-esphome" tabindex="-1">Переключение реле sw1 в прошивке espHome <a class="header-anchor" href="#переключение-реле-sw1-в-прошивке-esphome" aria-label="Permalink to &quot;Переключение реле sw1 в прошивке espHome&quot;">​</a></h3><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">http.</span><span style="color:#79B8FF;">request2</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://192.168.1.71/switch/sw1/toggle&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;POST&quot;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">http.</span><span style="color:#005CC5;">request2</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://192.168.1.71/switch/sw1/toggle&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;POST&quot;</span><span style="color:#24292E;">)</span></span></code></pre></div><h3 id="переключение-gpio-для-megad-при-однократном-нажатии-btn-2-пульта-jager" tabindex="-1">Переключение gpio для MegaD при однократном нажатии btn_2 пульта Jager <a class="header-anchor" href="#переключение-gpio-для-megad-при-однократном-нажатии-btn-2-пульта-jager" aria-label="Permalink to &quot;Переключение gpio для MegaD при однократном нажатии btn_2 пульта Jager&quot;">​</a></h3><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> Event.</span><span style="color:#B392F0;">State</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Value</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;btn_2_single&quot;  </span><span style="color:#F97583;">then</span></span>
<span class="line"><span style="color:#E1E4E8;">  http.</span><span style="color:#79B8FF;">request2</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://192.168.2.200/objects/?object=MegaD1-12&amp;op=m&amp;m=switch&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">end</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> Event.</span><span style="color:#6F42C1;">State</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Value</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;btn_2_single&quot;  </span><span style="color:#D73A49;">then</span></span>
<span class="line"><span style="color:#24292E;">  http.</span><span style="color:#005CC5;">request2</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://192.168.2.200/objects/?object=MegaD1-12&amp;op=m&amp;m=switch&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">end</span></span></code></pre></div><h3 id="запрос-информации-со-стороннего-ресурса" tabindex="-1">Запрос информации со стороннего ресурса <a class="header-anchor" href="#запрос-информации-со-стороннего-ресурса" aria-label="Permalink to &quot;Запрос информации со стороннего ресурса&quot;">​</a></h3><div class="language-lua vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">lua</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">local</span><span style="color:#E1E4E8;"> myIP </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> http.</span><span style="color:#79B8FF;">request</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://wtfismyip.com/text&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;My IP: &quot; </span><span style="color:#F97583;">..</span><span style="color:#E1E4E8;"> myIP)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">local</span><span style="color:#24292E;"> myIP </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> http.</span><span style="color:#005CC5;">request</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://wtfismyip.com/text&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;My IP: &quot; </span><span style="color:#D73A49;">..</span><span style="color:#24292E;"> myIP)</span></span></code></pre></div><h3 id="отправка-показании-счетчиков-в-управляющую-компанию" tabindex="-1">Отправка показаний счетчиков в управляющую компанию <a class="header-anchor" href="#отправка-показании-счетчиков-в-управляющую-компанию" aria-label="Permalink to &quot;Отправка показаний счетчиков в управляющую компанию&quot;">​</a></h3><p><a href="https://github.com/tsurkan-av/SLS/blob/main/sendCountersToUK/Readme.md" target="_blank" rel="noreferrer">Здесь</a> описан способ отправки показаний в УК, не имеющей API для этого</p>`,82),l=[p];function n(c,i,r,d,h,u){return s(),e("div",null,l)}const g=a(t,[["render",n]]);export{E as __pageData,g as default};
