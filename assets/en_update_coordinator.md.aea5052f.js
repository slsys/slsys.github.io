import{_ as e}from"./chunks/disable_esp.52c52488.js";import{_ as o,o as t,c as a,Q as i}from"./chunks/framework.f1c0562b.js";const g=JSON.parse('{"title":"Update firmware of CC2538 (SBL) with working ESP","description":"","frontmatter":{},"headers":[],"relativePath":"en/update_coordinator.md","filePath":"en/update_coordinator.md"}'),r={name:"en/update_coordinator.md"},n=i('<h1 id="update-firmware-of-cc2538-sbl-with-working-esp" tabindex="-1">Update firmware of CC2538 (SBL) with working ESP <a class="header-anchor" href="#update-firmware-of-cc2538-sbl-with-working-esp" aria-label="Permalink to &quot;Update firmware of CC2538 (SBL) with working ESP&quot;">â€‹</a></h1><p>It is possible to update the firmware of the Zigbee coordinator CC2538 without the programmer J-Link (J-Tag), if the previous firmware did not disable Serial Boot Loader (SBL). Note the working ESP will interfere with the serial port.</p><p>Instruction:</p><ol><li>Re-solder 2 ESP/MOD jumpers (between SW1 and U7 chip) to MOD position.</li><li>Disconnect the ESP power. The easiest way is to cut the power line as shown here. <img src="'+e+'" alt="home"></li><li>Connect USB while pressing the B_NXP button (BOOT_Z on some boards). If there is no such button, you need to connect PA7 pin of CC2538 to ground by wiring. Important - the shield of the USB connector is not ground, look for the ground elsewhere!</li><li>Test to read the existing firmware. Download <a href="https://github.com/JelmerT/cc2538-bsl" target="_blank" rel="noreferrer">cc2538-bsl.py</a>, and run the following command in Windows<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">python cc2538-bsl.py -p &quot;\\\\.\\COM2&quot; -r old_firmware.bin</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">python cc2538-bsl.py -p &quot;\\\\.\\COM2&quot; -r old_firmware.bin</span></span></code></pre></div>You may need to change COM2 to correct one - see the device manager.</li><li>If the firmware was read and nothing was interrupted, you can flash the new firmware <a href="/rom/JH_2538_2592_ZNP_UART_20201010.hex">JH_2538_2592_ZNP_UART_20201010.hex</a> using the following command<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">python cc2538-bsl.py -p &quot;\\\\.\\COM2&quot; -e -w -v JH_2538_2592_ZNP_UART_20201010.hex</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">python cc2538-bsl.py -p &quot;\\\\.\\COM2&quot; -e -w -v JH_2538_2592_ZNP_UART_20201010.hex</span></span></code></pre></div></li><li>Unsolder the wiring from PA7, re-solder the ESP/MOD jumpers back to ESP, restore the ESP power line.</li></ol><p>After booting the gateway, the new Zigbee version should be displayed immediately. The list of Zigbee devices will remain unchanged, but you need to reconnect all devices.</p>',5),s=[n];function l(p,c,d,h,_,u){return t(),a("div",null,s)}const f=o(r,[["render",l]]);export{g as __pageData,f as default};
